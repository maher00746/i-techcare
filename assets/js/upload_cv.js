function checkformat(){var e=["pdf","doc","docx"],s=$("#file").val().split(".")[$("#file").val().split(".").length-1];-1!=e.indexOf(s)?$("#subscribe-result").hide():($("#subscribe-result").hide().html('<div class="error newsletter-res">Invalid cv file format, choose a valid one please</div>').slideDown().delay(1e4).slideUp(),$("#submit").attr("disabled","true"))}function uploadFiles(e){e.stopPropagation(),e.preventDefault();var s=new FormData;s.append("cvfile",jQuery("#file")[0].files[0]),s.append("userEmail",$("#mail").val()),$("#loader").removeAttr("style"),$("#loader").css({visibility:"visible"}),$("#submit").disabled=!0,$.ajax({url:"http://technowave.co/assets/attachment_cv.php",type:"POST",data:s,cache:!1,dataType:"json",processData:!1,contentType:!1,success:function(e,s,l){"error"!=e.type?"yes"==e.format?$("#subscribe-result").hide().html('<div class="success newsletter-res">'+e.msg+"</div>").slideDown().delay(1e4).slideUp():$("#subscribe-result").hide().html('<div class="error newsletter-res">Bad Format, upload another file</div>').slideDown().delay(1e4).slideUp():$("#subscribe-result").hide().html('<div class="error newsletter-res">'+e.msg+"</div>").slideDown().delay(1e4).slideUp(),$("#loader").removeAttr("style"),$("#loader").css({visibility:"hidden"}),$("#submit").attr("disabled","false")},error:function(e,s,l){$("#subscribe-result").hide().html('<div class="error newsletter-res"> error while uploading CV...please retry later</div>').slideDown().delay(1e4).slideUp(),$("#loader").removeAttr("style"),$("#loader").css({visibility:"hidden"}),$("#submit").attr("disabled","false")}})}$(document).ready(function(){$("#cvform").on("submit",uploadFiles),$("#file").on("change",checkformat)});